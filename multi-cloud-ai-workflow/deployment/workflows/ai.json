{
    "Comment": "AI Workflow",
    "StartAt": "01-validate-workflow-input",
    "States": {
        "01-validate-workflow-input": {
            "Type": "Task",
            "Resource": "${lambda-01-validate-workflow-input}",
            "Next": "02-extract-speech-to-text-parent"
        },
        "02-extract-speech-to-text-parent": {
            "Type": "Parallel",
            "Branches": [
                {
                    "StartAt": "02-extract-speech-to-text",
                    "States": {
                        "02-extract-speech-to-text": {
                            "Type": "Task",
                            "Resource": "${lambda-02-extract-speech-to-text}",
                            "End": true
                        }
                    }
                },
                {
                    "StartAt": "02-wait-for-job-completion",
                    "States": {
                        "02-wait-for-job-completion": {
                            "Type": "Task",
                            "Resource": "${job-completion-activity}",
                            "TimeoutSeconds": 3600,
                            "HeartbeatSeconds": 1800,
                            "End": true
                        }
                    }
                }
            ],
            "Next": "03-register-speech-to-text-output"
        },
        "03-register-speech-to-text-output": {
            "Type": "Task",
            "Resource": "${lambda-03-register-speech-to-text-output}",
            "Next": "04-translate-speech-transcription-parent"
        },
        "04-translate-speech-transcription-parent": {
            "Type": "Parallel",
            "Branches": [
                {
                    "StartAt": "04-translate-speech-transcription",
                    "States": {
                        "04-translate-speech-transcription": {
                            "Type": "Task",
                            "Resource": "${lambda-04-translate-speech-transcription}",
                            "End": true
                        }
                    }
                },
                {
                    "StartAt": "04-wait-for-job-completion",
                    "States": {
                        "04-wait-for-job-completion": {
                            "Type": "Task",
                            "Resource": "${job-completion-activity}",
                            "TimeoutSeconds": 3600,
                            "HeartbeatSeconds": 1800,
                            "End": true
                        }
                    }
                }
            ],
            "Next": "05-register-speech-translation-parent"
        },
        "05-register-speech-translation-parent": {
            "Type": "Parallel",
            "Branches": [
                {
                    "StartAt": "05-register-speech-translation",
                    "States": {
                        "05-register-speech-translation": {
                            "Type": "Task",
                            "Resource": "${lambda-05-register-speech-translation}",
                            "End": true
                        }
                    }
                },
                {
                    "StartAt": "05-wait-for-job-completion",
                    "States": {
                        "05-wait-for-job-completion": {
                            "Type": "Task",
                            "Resource": "${job-completion-activity}",
                            "TimeoutSeconds": 3600,
                            "HeartbeatSeconds": 1800,
                            "End": true
                        }
                    }
                }
            ],
            "Next": "06a-detect-celebrities-aws-parent"
        },
        "06a-detect-celebrities-aws-parent": {
            "Type": "Parallel",
            "Branches": [
                {
                    "StartAt": "06a-detect-celebrities-aws",
                    "States": {
                        "06a-detect-celebrities-aws": {
                            "Type": "Task",
                            "Resource": "${lambda-06a-detect-celebrities-aws}",
                            "End": true
                        }
                    }
                },
                {
                    "StartAt": "06a-wait-for-job-completion",
                    "States": {
                        "06a-wait-for-job-completion": {
                            "Type": "Task",
                            "Resource": "${job-completion-activity}",
                            "TimeoutSeconds": 3600,
                            "HeartbeatSeconds": 1800,
                            "End": true
                        }
                    }
                }
            ],
            "Next": "06b-detect-celebrities-azure-parent"
        },
        "06b-detect-celebrities-azure-parent": {
            "Type": "Parallel",
            "Branches": [
                {
                    "StartAt": "06b-detect-celebrities-azure",
                    "States": {
                        "06b-detect-celebrities-azure": {
                            "Type": "Task",
                            "Resource": "${lambda-06b-detect-celebrities-azure}",
                            "End": true
                        }
                    }
                },
                {
                    "StartAt": "06b-wait-for-job-completion",
                    "States": {
                        "06b-wait-for-job-completion": {
                            "Type": "Task",
                            "Resource": "${job-completion-activity}",
                            "TimeoutSeconds": 3600,
                            "HeartbeatSeconds": 1800,
                            "End": true
                        }
                    }
                }
            ],
            "Next": "07a-register-celebrities-info-aws-parent"
        },
        "07a-register-celebrities-info-aws-parent": {
            "Type": "Parallel",
            "Branches": [
                {
                    "StartAt": "07a-register-celebrities-info-aws",
                    "States": {
                        "07a-register-celebrities-info-aws": {
                            "Type": "Task",
                            "Resource": "${lambda-07a-register-celebrities-info-aws}",
                            "End": true
                        }
                    }
                },
                {
                    "StartAt": "07a-wait-for-job-completion",
                    "States": {
                        "07a-wait-for-job-completion": {
                            "Type": "Task",
                            "Resource": "${job-completion-activity}",
                            "TimeoutSeconds": 3600,
                            "HeartbeatSeconds": 1800,
                            "End": true
                        }
                    }
                }
            ],
            "Next": "07b-register-celebrities-info-azure-parent"
        },
        "07b-register-celebrities-info-azure-parent": {
            "Type": "Parallel",
            "Branches": [
                {
                    "StartAt": "07b-register-celebrities-info-azure",
                    "States": {
                        "07b-register-celebrities-info-azure": {
                            "Type": "Task",
                            "Resource": "${lambda-07b-register-celebrities-info-azure}",
                            "End": true
                        }
                    }
                },
                {
                    "StartAt": "07b-wait-for-job-completion",
                    "States": {
                        "07b-wait-for-job-completion": {
                            "Type": "Task",
                            "Resource": "${job-completion-activity}",
                            "TimeoutSeconds": 3600,
                            "HeartbeatSeconds": 1800,
                            "End": true
                        }
                    }
                }
            ],
            "End": true
        }
    }
}